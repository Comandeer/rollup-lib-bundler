/*! @comandeer/rollup-lib-bundler v0.13.0 | (c) 2021 Comandeer | MIT license (see LICENSE) */
import{existsSync as e,readFileSync as r}from"fs";import{rollup as t}from"rollup";import o from"@rollup/plugin-commonjs";import{terser as n}from"rollup-plugin-terser";import i from"@rollup/plugin-json";import s from"@rollup/plugin-babel";import u from"@babel/preset-env";function a(t){if("string"==typeof t)t=function(t){if(!e(t))throw new ReferenceError("File with given path does not exist.");const o=r(t,"utf8");let n;try{n=JSON.parse(o)}catch(e){throw new SyntaxError("Given file is not parsable as a correct JSON.")}return n}(t);else if("object"!=typeof t)throw new TypeError("Provide string or object.");return function(e){function r(r){if(void 0===e[r])throw new ReferenceError(`Package metadata must contain "${r}" property.`)}function t(...r){if(!r.some((r=>{const t=r.split(".");return o(e,t)})))throw new ReferenceError(`Package metadata must contain one of ${n(r)} properties or all of them.`)}function o(e,r){const t=r.shift();return void 0!==e[t]&&(0===r.length||o(e[t],r))}function n(e){return e.map(((r,t)=>{const o=`"${r}"`;if(0===t)return o;return`${t===e.length-1?" or ":", "}${o}`})).join("")}r("name"),r("version"),t("exports.require","main"),t("exports.import","module","jsnext:main"),r("author"),r("license")}(t),{name:(o=t).name,version:o.version,author:c(o.author),license:o.license,src:"src/index.js",dist:{esm:p(o),cjs:l(o)}};var o}function c(e){return"object"!=typeof e?String(e):e.name}function p(e){return e.exports&&e.exports.import?e.exports.import:e.module||e["jsnext:main"]}function l(e){return e.exports&&e.exports.require?e.exports.require:e.main}const m=">=12.0.0".replace(/[<=>~^]/g,"");function f(e,r){const t=function(e){return`/*! ${e.name} v${e.version} | (c) ${(new Date).getFullYear()} ${e.author} | ${e.license} license (see LICENSE) */`}(e),a=[o(),i(),s({babelrc:!1,babelHelpers:"bundled",presets:[[u,{targets:{node:m}}]]}),n()];return{input:e.src,plugins:a,output:{banner:t,sourcemap:!0,format:r?"cjs":"es",file:r?e.dist.cjs:e.dist.esm,exports:"auto"}}}function g(){return async function(e){const r=f(e,!0),o=f(e,!1),n=await Promise.all([t(r),t(o)]);return Promise.all([n[0].write(r.output),n[1].write(o.output)])}(a("package.json"))}export default g;
//# sourceMappingURL=rollup-lib-bundler.es2015.js.map
